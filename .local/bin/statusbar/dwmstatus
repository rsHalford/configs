#!/bin/sh

while true; do
	weather > $HOME/.local/bin/statusbar/weather.txt
	updates > $HOME/.local/bin/statusbar/updates.txt
	sleep 3600s
done &


while true; do
  BATTERY=$(battery)
	CPU_TEMP=$(cpu_temp)
	CPU_USAGE=$(cpu_usage)
	DATE_TIME=$(date_time)
  EMAIL=$(email)
	GPU_TEMP=$(gpu_temp)
	INTERNET=$(internet)
	MEMORY=$(memory)
	STORAGE=$(storage)
	UPDATES=$(< $HOME/.local/bin/statusbar/updates.txt)
	VOLUME=$(volume)
  WEATHER=$(< $HOME/.local/bin/statusbar/weather.txt)
	xsetroot -name "| $BATTERY | $VOLUME | $EMAIL | $UPDATES | $CPU_USAGE $CPU_TEMP | $GPU_TEMP | $MEMORY | $STORAGE | $INTERNET | $WEATHER | $DATE_TIME |"
	sleep 1s
done &
