#!/bin/sh

while true; do
  email   > $XDG_CACHE_HOME/statusbar/email.txt
	updates > $XDG_CACHE_HOME/statusbar/updates.txt
	weather > $XDG_CACHE_HOME/statusbar/weather.txt
	sleep 10m
done &


while true; do
  EMAIL=$(< $XDG_CACHE_HOME/statusbar/email.txt)
  UPDATES=$(< $XDG_CACHE_HOME/statusbar/updates.txt)
	CPU_USAGE=$(cpu_usage)
	CPU_TEMP=$(cpu_temp)
	#GPU_TEMP=$(gpu_temp)
	MEMORY=$(memory)
	STORAGE=$(storage)
	INTERNET=$(internet)
  #BATTERY=$(battery)
	#VOLUME=$(volume)
  WEATHER=$(< $XDG_CACHE_HOME/statusbar/weather.txt)
  DATE_TIME=$(date_time)
 	dwm -s "$EMAIL  $UPDATES  $CPU_USAGE  $CPU_TEMP  $MEMORY  $STORAGE  $INTERNET  $WEATHER  $DATE_TIME "
	sleep 5s
done &
